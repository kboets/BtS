<ng-container *ngIf="errorMessage$ | async as errorMessage">
    <p-message severity="error" text="{{errorMessage.errorMessage}}"></p-message>
    <p-message severity="error" text="{{errorMessage.userFriendlyMessage}}"></p-message>
</ng-container>

<div class="card">
    <p-panel header="Terugblik forecast">
        <div class="p-grid">
            <div class="p-col-2">Kies de competitie: </div>
            <div class="p-col-2">Kies de ronde: </div>
        </div>
        <div class="p-grid">
            <div class="p-col-2">
                <ng-container *ngIf="leagues$ | async as leagues">
                    <p-dropdown [options]="leagues" [(ngModel)]="selectedLeague" optionLabel="name" (onChange)="onLeagueChange()"></p-dropdown>
                </ng-container>
            </div>
            <div class="p-col-2">
                <ng-container *ngIf="rounds$ | async as rounds">
                    <p-dropdown [options]="rounds" [(ngModel)]="forecastForRoundAndLeague" optionLabel="round" (onChange)="onRoundChange()"></p-dropdown>
                </ng-container>
            </div>
        </div>
        <p>geselecteerde competitie:   {{selectedLeague? selectedLeague.name:'none' }}</p>
        <p>geselecteerde ronde:   {{forecastForRoundAndLeague? forecastForRoundAndLeague.round:'none' }}</p>
    </p-panel>

</div>
